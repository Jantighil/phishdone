<!DOCTYPE html>
<!-- <link rel="stylesheet" href="/k.css"> -->
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--=============== FAVICON ===============-->
        <link rel="shortcut icon" href="{{ url_for('static', filename='images/R (1).jpg') }}" type="image/x-icon">

        <!--=============== REMIX ICONS ===============-->
        <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">

        <!--=============== CSS ===============-->
        <link rel="stylesheet" href="/static/style.css">
        <link rel="stylesheet" href="/static/style1.css">
        <link rel="stylesheet" href="/static/style2.css">
        <!-- <link rel="stylesheet" href="/static/style3.css"> -->

        <title>Phishnatomy</title>
    </head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <body>
        <!--=============== HEADER ===============-->
        <header class="header" id="header">
            <nav class="nav container">
                <a href="#" class="nav__logo">
                    <!-- <img src="{{ url_for('static', filename='images/R (1).jpg') }}" alt="Description of image"> -->

                    <img src="{{ url_for('static', filename='images/R (1).jpg') }}" alt="">
                </a>

                <div class="nav__menu" id="nav-menu">
                    <ul class="nav__list">
                        <li class="nav__item">
                            <a href="/templates/index.html" class="nav__link active-link">Home</a>
                        </li>
                        <li class="nav__item">
                            <a href="#specs" class="nav__link">Email Checker</a>
                        </li>
                        <li class="nav__item">
                            <a href="#case" class="nav__link">URL Checker</a>
                        </li>
                        <li class="nav__item">
                            <a href="#products" class="nav__link">Others</a>
                        </li>
                    </ul>

                    <div class="nav__close" id="nav-close">
                        <i class="ri-close-line"></i>
                    </div>
                </div>

                <div class="nav__toggle" id="nav-toggle">
                    <i class="ri-function-line"></i>
                </div>
            </nav>
        </header>

        <main class="main">
            <!--=============== HOME ===============-->
            <section class="home section" id="home">
                <div class="home__container container grid">
                    <div>
                        <!-- <img src="{{ url_for('static', filename='images/R (1).jpg') }}" style="padding-top: 30%; width: 41%; height: 650px;" alt="Description of image" class="home__img"> -->

                        <img src="{{ url_for('static', filename='images/R (1).jpg') }}" style="padding-top: 30%; width: 41%; height: 650px;" alt="" class="home__img">
                    </div>

                    <div class="home__data">
                        <div class="home__header">
                            <h1 class="home__title">Phish</h1>
                            <h2 class="home__subtitle">Natomy</h2>
                        </div>

                        <div class="home__footer">
                            <h3 class="home__title-description">Overview</h3>
                            <p class="home__description">Deep Dive Phishing Detection: Unveiling the Anatomy of suspicious Emails and URLs for enhanced Cyber Vigilance. 
                            </p>
                            <a href="#" class="button button--flex">
                                <span class="button--flex">
                                    <i class=""></i></i>
                                </span>
                                <span class="home__price">Let's unveil Phishing</span>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!--=============== SPONSOR ===============-->
            <section class="sponsor section">
                <div class="sponsor__container container grid">
                    <!-- <img src="{{ url_for('static', filename='images/R (12).png') }}" alt="Description of image"  class="sponsor__img"> -->
                    <img  src="{{ url_for('static', filename='images/R (12).png') }}" alt="" class="sponsor__img">
                    <!-- <img style="height: 35%; margin-right: 50%;" src="{{ url_for('static', filename='images/R (13).png') }}" alt="Description of image" > -->
                    <img style="height: 20%;" src="{{ url_for('static', filename='images/R (13).png') }}">
                    <!-- <img style="margin-left: 150px;" src="{{ url_for('static', filename='images/6fd83f6c101f85bb417448302daedfb9.png') }}" alt="Description of image"  class="sponsor__img"> -->
                    <img src="{{ url_for('static', filename='images/6fd83f6c101f85bb417448302daedfb9.png') }}" alt="" class="sponsor__img">
                    <img src="https://github.com/bedimcode/responsive-landing-page-headphones/blob/main/assets/img/sponsor4.png?raw=true" alt="" class="sponsor__img">
                </div>
            </section>

            <!--=============== SPECS ===============-->
            <section class="specs section grid" id="specs">
                <h2 class="section__title section__title-gradient">Email Classifier</h2>

                <div class="specs__container container grid">
                    <div class="specs__content grid">
                        <h1></h1>
                        <form onsubmit="event.preventDefault(); checkEmail();">
                            <div class="textarea-container">
                                <textarea id="email_content" rows="10" cols="50" placeholder="Paste your email content here"></textarea>
                                <i class="fas fa-upload upload-icon" onclick="triggerFileUpload()"></i>
                                <input type="file" id="file" style="display:none;" onchange="uploadFile()">
                            </div>
                            <button class="btn" type="submit" style="background-color: #007bff; color: white; padding: 5px 10px; margin: 5px 0; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; width: 80%;">Check Email</button>
                        </form>
                    </div>

                    <div>
                        <!-- <img style="height: 100%;" src="{{ url_for('static', filename='images/R (6).png') }}" alt="Description of image"  class="specs__img"> -->
                        <img src="{{ url_for('static', filename='images/R (6).png') }}" style="height: 100%;" alt="" class="specs__img">
                    </div>
                </div>
                <div>
                    <hr>
                        <div id="result" style=" justify-content: center; align-items: center; margin-left: 11%;"></div>
                </div>
            </section>

            <!--=============== CASE ===============-->
            <section class="case section grid" id="case" style="margin-top: -10%;">
                <h2 class="section__title section__title-gradient">URL Checker</h2>

                <div class="case__container container grid">
                    <div>
                        <!-- <img style="height: 100%;" src="{{ url_for('static', filename='images/1_Q3lmZRMTFCC1hLE6DuQg1Q@2x.jpg') }}" alt="Description of image" class="case__img"> -->
                        <img style="width: 270px" src="{{ url_for('static', filename='images/1_Q3lmZRMTFCC1hLE6DuQg1Q@2x.jpg') }}" alt="" class="case__img">
                    </div>

                    <!-- <div class="case__data"> -->
                        <div class="container">
                            <h1></h1>
                            <label for="url">Enter URL:</label>
                            <input type="text" id="url" placeholder="https://www.example.com">
                            <button onclick="checkUrl()">Check URL</button>
                            <div class="result1" id="results"></div>
                        <!-- </div> -->
                    </div>
                </div>
            </section>

            <!--=============== DISCOUNT ===============-->
            <section class="discount section" id="video">
                <div class="discount__container container grid">
                    <div class="container">
                        <p>Our cyber awareness video teaches essential strategies to protect your data and privacy. Stay informed and secure online.</p>
                        <a href="{{ url_for('video') }}" ><button style="color: #007bff; height: 30%; "><h1 style="color: black;">Cyber Awareness Video</h1></button></a>
                    </div>

                    <img src="https://github.com/bedimcode/responsive-landing-page-headphones/blob/main/assets/img/discount.png?raw=true" alt="" class="discount__img">
                </div>
            </section>

            <!--=============== PRODUCTS ===============-->
            <section class="products section" id="products">
                <h2 class="section__title section__title-gradient products__line">
                    Choose <br> Your feature
                </h2>

                <div class="products__container container grid">
                    <article class="products__card">
                        <div class="products__content">

                            <a href="https://phish1-ecru.vercel.app/"><img style="padding-top: 10%; width: 100%;"  src="{{ url_for('static', filename='images/ckolyN-click-here-button-free-png.png') }}" alt="Description of image" class="products__img" >
                            </a>
                            
                            <h3 class="products__title">Game</h3>
                            <span class="products__price">Game</span>

                            <button class="button button--flex products__button">
                                <i><img style="width: 10%;" src="{{ url_for('static', filename='images/cyber.png') }}" alt="Description of image" ></i>
                                <i><img style="width: 10%;" src="/PICS/cyber.png" alt=""></i>
                            </button>
                        </div>
                    </article>
                    <article class="products__card">
                        <div class="products__content">
                            <a href="https://phish-gamma.vercel.app/"><img style="padding-top: 10%; width: 100%;"  src="{{ url_for('static', filename='images/ckolyN-click-here-button-free-png.png') }}" alt="Description of image" class="products__img" >
                            </a>
                            
                            <h3 class="products__title">QUIZES</h3>
                            <span class="products__price">quizes</span>

                            <button class="button button--flex products__button" href ="https://phish-gamma.vercel.app/">
                                <!-- <i><img style="width: 10%;" src="{{ url_for('static', filename='images/cyber.png') }}" alt="Description of image" ></i> -->
                                <i><img style="width: 10%;" src="{{ url_for('static', filename='images/cyber.png') }}" alt=""></i>
                            </button>
                        </div>
                    </article>
                    <article class="products__card">
                        <div class="products__content">
                            <a  href="{{ url_for('video') }}"><img style="padding-top: 10%; width: 100%;"  src="{{ url_for('static', filename='images/ckolyN-click-here-button-free-png.png') }}" alt="Description of image" class="products__img" >
                            </a>
                            
                            <h3 class="products__title">Video</Video></h3>
                            <span class="products__price">Video</span>

                            <button class="button button--flex products__button">
                                <!-- <i><img style="width: 10%;" src="{{ url_for('static', filename='images/cyber.png') }}" alt="Description of image" ></i> -->
                                <i><img style="width: 10%;" src="{{ url_for('static', filename='images/cyber.png') }}" alt=""></i>
                            </button>
                        </div>
                    </article>
                    <!-- <article class="products__card">
                        <div class="products__content">
                            <a href="https://phish2.vercel.app/"><img style="width: 120px;" src="https://private-user-images.githubusercontent.com/108949387/340813020-ede32e78-79bf-4567-89f9-ac8d655ad7a7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTg3NDA3NjUsIm5iZiI6MTcxODc0MDQ2NSwicGF0aCI6Ii8xMDg5NDkzODcvMzQwODEzMDIwLWVkZTMyZTc4LTc5YmYtNDU2Ny04OWY5LWFjOGQ2NTVhZDdhNy5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwNjE4JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDYxOFQxOTU0MjVaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT05YTk3MDhiMmY3ODI2Y2EyNjBjMWFmMjQ3ZWJiNjVhMDcxMGUwNDMzYTAzMTU0YTNkMGMyY2JmN2I1NmM5ODkzJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.nSb5X5x3sQO43xSpOCKDakWds10zTgNx7yUhlUOna_4" alt="" class="products__img">
                            </a>
                            
                            <h3 class="products__title">Blue</h3>
                            <span class="products__price">$249</span>

                            <button class="button button--flex products__button">
                                <i class="ri-shopping-bag-line button__icon"></i>
                            </button>
                        </div>
                    </article>

                    <article class="products__card">
                        <div class="products__content">
                            <img src="https://github.com/bedimcode/responsive-landing-page-headphones/blob/main/assets/img/product5.png?raw=true" alt="" class="products__img">

                            <h3 class="products__title">Twilight gray</h3>
                            <span class="products__price">$249</span>

                            <button class="button button--flex products__button">
                                <i class="ri-shopping-bag-line button__icon"></i>
                            </button>
                        </div>
                    </article> -->
                </div>
            </section>
        </main>

        <!--=============== FOOTER ===============-->
        <footer class="footer section">
            <div class="footer__container container grid">
                <a href="#" class="footer__logo">
                    <img style="width: 100%;"  src="{{ url_for('static', filename='images/cyber.png') }}" alt="">
                </a>

                <div class="footer__content">
                    <h3 class="footer__title">Features</h3>

                    <ul class="footer__links">
                        <li>
                            <a href="#spec" class="footer__link">Email Checker</a>
                        </li>
                        <li>
                            <a href="case" class="footer__link">URL Checker</a>
                        </li>
                        <li>
                            <a href="#nav_item" class="footer__link">Others</a>
                        </li>
                        <li>
                            <a  href="{{ url_for('video') }}" class="footer__link">Video</a>
                        </li>
                    </ul>
                </div>

                <div class="footer__content">
                    <h3 class="footer__title">Support</h3>

                    <ul class="footer__links">
                        <li>
                            <a href="#" class="footer__link">About us</a>
                        </li>
                        <li>
                            <a href="#" class="footer__link">documentation</a>
                        </li>
                        <li>
                            <a href="{{ url_for('feedback') }}"  class="footer__link">Feedback</a>
                        </li>
                        <li>
                            <a href="#" class="footer__link">Provides</a>
                        </li>
                    </ul>
                </div>

                <div class="footer__content">
                    <!-- <form action="" class="footer__form"> -->
                        <!-- <input type="email" placeholder="Views" class="footer__input"> -->
                        <a href="{{ url_for('feedback') }}">
                            <button  href="{{ url_for('feedback') }}">
                                <i class="ri-send-plane-line button__icon" href="{{ url_for('feedback') }}"></i> Feedback
                            </button>
                        </a>
                    </form>

                    <div class="footer__social">
                        <a href="https://www.facebook.com/" target="_blank" class="footer__social-link">
                            <i class="ri-facebook-fill"></i>
                        </a>
                        <a href="https://www.instagram.com/" target="_blank" class="footer__social-link">
                            <i class="ri-instagram-line"></i>
                        </a>
                        <a href="https://twitter.com/" target="_blank" class="footer__social-link">
                            <i class="ri-twitter-line"></i>
                        </a>
                    </div>
                </div>
            </div>

            <p class="footer__copy">
                <a href="https://www.youtube.com/c/Bedimcode/" target="_blank" class="footer__copy-link">Â© Phishnatomy. All right reserved</a>
            </p>
        </footer>

        <!--=============== SCROLL UP ===============-->
        <a href="#" class="scrollup" id="scroll-up">
            <i class="ri-arrow-up-s-line scrollup__icon"></i>
        </a>

        <!--=============== SCROLL REVEAL ===============-->
        <script src="https://unpkg.com/scrollreveal"></script>

        <!--=============== MAIN JS ===============-->
        <script>
            CLOUDINARY_URL= `cloudinary://465399367875161:VPNKZbug5kWdImXqr_KY8aWTOvs@jantighil`
            async function checkEmail() {
    const emailContent = document.getElementById('email_content').value.trim();
    const fileInput = document.getElementById('file');

    if (emailContent === '' && fileInput.files.length === 0) {
        document.getElementById('result').innerHTML = `
            <p>Please enter email content or upload a document.</p>
        `;
        return;
    }

    if (emailContent !== '') {
        const response = await fetch('/check_email', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: `email_content=${encodeURIComponent(emailContent)}`,
        });
        const result = await response.json();
        displayResult(result);
    } else if (fileInput.files.length > 0) {
        uploadFile();
    }
}

async function uploadFile() {
    const fileInput = document.getElementById('file');
    if (fileInput.files.length > 0) {
        const formData = new FormData();
        formData.append('file', fileInput.files[0]);

        const response = await fetch('/upload', {
            method: 'POST',
            body: formData,
        });
        const result = await response.json();
        displayResult(result);
    }
}

function displayResult(result) {
    let resultHTML = '';

    if (result.result === 'Phishing') {
        resultHTML += `<p>The email is classified as: <strong>${result.result}</strong></p>`;
    } else if (result.result === 'Sensitive') {
        resultHTML += `<p>The email contains the following sensitive phrase: <strong>${result.phrase}</strong></p>`;
    } else {
        resultHTML += `<p>The email is classified as: <strong>Safe</strong></p>`;
    }

    if (result.found_phrases.length > 0) {
        resultHTML += `<p>Found phrases:</p>`;
        resultHTML += `<ul>`;
        result.found_phrases.forEach(phrase => {
            resultHTML += `<li>${phrase} - Reason: ${result.reasons[phrase]}</li>`;
        });
        resultHTML += `</ul>`;
    } else {
        resultHTML += `<p>No suspicious phrases found.</p>`;
    }

    document.getElementById('result').innerHTML = resultHTML;
}

function triggerFileUpload() {
    document.getElementById('file').click();
}
function checkUrl() {
    const url = document.getElementById('url').value;
    const resultDiv = document.getElementById('result');
    resultDiv.innerHTML = 'Checking...';

    fetch('/check_url', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ url: url })
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 'legitimate') {
            resultDiv.innerHTML = `<p class="legitimate">Legitimate URL</p>`;
        } else {
            resultDiv.innerHTML = `<p class="phishing">Phishing URL</p>`;
        }
        const explanations = data.explanation.map(exp => `<li>${exp}</li>`).join('');
        resultDiv.innerHTML += `<ul>${explanations}</ul>`;
    })
    .catch(error => {
        console.error('Error:', error);
        resultDiv.innerHTML = '<p class="phishing">An error occurred. Please try again.</p>';
    });
} 

        </script>
        <script>
         
        </script>
        <script src="script.js"></script>
        <!-- <script src="/script1.js"></script> -->
        <!-- <script src="/script2.js"></script> -->
    </body>
</html>